// Oggetto predefinito con le nuove traduzioni
const defaultTranslations = {
  // Header and Footer
  terms_and_condition_text: "Termini e Condizioni",
  scan_text: "Scansiona",
  contact_text: "Contattami",
  home_text: "Home",
  follow_text: "Follow Us",
  phone_text: "Telefono: ",
  contact_text: "Contattami",

  // Index
  access_button: "Default Accedi",
  back_button: "Indietro",
  login_text: "Inserisci la tua email per visualizzare o scaricare il Pass.",
  welcome_text: 'Welcome to <span class="color-header">EasySubscribe</span>',
  email_placeholder: "Email address",
  email_help: "Inserisci la tua email per accedere al portale.",
  organizer_button: "Sei un Organizzatore?",
  get_pass: "Ottieni il Pass",

  // Login.js
  network_error_title: "Errore di rete",
  network_error_text: "Si è verificato un problema, riprova più tardi.",
  invalid_email_title: "Email invalida",
  invalid_email_text: "Inserisci un indirizzo email valido per accedere",
  sent_email_title: "Email inviata",
  sent_email_text: "Controlla l'indirizzo email #EMAIL# per accedere",
  email_not_found_title: "Email non trovata",
  email_not_found_text: "L'email #EMAIL# non è registrata sul portale",
  generic_error_title: "Errore",
  generic_error_text: "Si è verificato un problema, riprova più tardi.",

  // Terms and condition
  terms_and_condition_title:
    "Termini e <span class='color-header'>Condizioni</span>",
  terms_and_condition_intro: `<p>Le presenti Condizioni Generali di Abbonamento (le “Condizioni Generali”) regolano la sottoscrizione di piani di abbonamenti (gli “Abbonamenti”) eventi partner (gli “Eventi Partner”) sul sito internet https://stripe.com/ (il “Sito”) , fruibili partecipando ai suddetti eventi partner.</p>
    <p>Le presenti Condizioni Generali costituiscono un accordo vincolante tra ciascun utente abbonato agli Eventi Partner (l’”Utente”) e Neverland Events – Strada Sora 15 – 27100 Pavia – Tel. +393313476201 – C.F./P.IVA 07619210961, REA 1971432 Registro delle Imprese di Milano (di seguito, la “Società”).</p>`,
  terms_and_condition_scope:
    "<h3>Ambito di applicazione delle condizioni generali</h3>\n<p>1.1. Le presenti Condizioni Generali costituiscono il complessivo accordo tra l’Utente e la Società in relazione alla sottoscrizione e fruizione degli Abbonamenti.</p>\n<p>1.2. Dichiarando di accettare le presenti Condizioni Generali all’atto della sottoscrizione di un Abbonamento sul Sito, l’Utente si impegna a rispettare le presenti Condizioni Generali. L’utente non potrà sottoscrivere gli Abbonamenti né fruire degli stessi in caso di mancata accettazione delle presenti Condizioni Generali.</p>",
  terms_and_condition_changes:
    "<h3>Modifiche alle Condizioni Generali</h3>\n<p>2.1. La Società si riserva il diritto di apportare, di volta in volta, modifiche alle presenti Condizioni Generali, ad esempio per:</p>\n<ul>\n<li>l’esigenza di garantire il rispetto di sopravvenute disposizioni di legge;</li>\n<li>motivi tecnici;</li>\n<li>altri ragionevoli motivi legati alla attività di vendita della Società, come di volta in volta comunicati all’Utente.</li>\n</ul>\n<p>2.2. Gli Utenti saranno avvertiti di tali modifiche a mezzo e-mail. Le Condizioni Generali così modificate diventeranno efficaci decorsi 15 giorni dalla data di comunicazione all’Utente delle modifiche apportate. Qualora l’Utente non dovesse concordare con le modifiche alle Condizioni Generali, potrà recedere liberamente e senza costi dalle presenti Condizioni Generali entro tale periodo di 15 giorni, dandone comunicazione scritta alla Società, con le modalità previste dal successivo Articolo 12. Decorso tale periodo senza che l’Utente abbia esercitato il proprio diritto di recesso, le modifiche alle Condizioni Generali apportate dalla Società si intenderanno accettate dall’Utente.</p>",
  terms_and_condition_subscription:
    "<h3>Sottoscrizione di un Abbonamento</h3>\n<p>3.1. Per sottoscrivere uno o più Abbonamenti, è necessario fornire tutti i dati obbligatori contrassegnati con un asterisco al Sito. Ai fini della registrazione all’Abbonamento è obbligatorio l’inserimento di un account di posta elettronica e un numero di telefono.</p>\n<p>3.2. Il pagamento del prezzo dell’Abbonamento è indicato sul Sito e varia a seconda del piano di Abbonamento prescelto. Il pagamento dovrà essere corrisposto al momento dell’effettuazione dell’ordine. Sono ammesse le modalità di pagamento tramite carta di credito, ApplePay, addebito SEPA, bonifico bancario. All’interno della propria area personale nel Sito, l’Utente può variare i dati dello strumento di pagamento da utilizzare in caso di rinnovo dell’Abbonamento. Tali dati devono essere sempre aggiornati e garantire il buon fine del pagamento in caso di successivi rinnovi dell’Abbonamento. I pagamenti effettuati mediante carta di credito saranno processati attraverso un servizio offerto da un gestore di pagamento terzo autorizzato. L’Utente prende atto ed accetta che i dati relativi alla carta di credito saranno inviati direttamente al gestore dei pagamenti e che, pertanto, la Società non raccoglierà o tratterà tali dati (ad eccezione delle ultime quattro cifre della carta utilizzata e della data di scadenza). L’Utente dichiara e garantisce di poter legittimamente utilizzare la carta di pagamento indicata in fase di acquisto, e che la stessa è valida e provvista di sufficienti fondi. Qualora la carta di pagamento non venisse accettata dagli intermediari autorizzati o non disponesse di sufficienti fondi non sarà possibile concludere l’ordine e l’Utente dovrà utilizzare un mezzo di pagamento alternativo.</p>\n<p>3.3. La Società effettuerà l’addebito dell’importo dovuto dall’Utente contestualmente alla conferma di sottoscrizione dell’Abbonamento. La ricevuta o fattura relativa a ciascun acquisto sarà inviata via e-mail.</p>\n<p>3.4. Dopo aver confermato l’acquisto, l’Utente riceverà una e-mail della Società, recante la conferma dell’acquisto e contenente le informazioni relative alle caratteristiche essenziali dell’Abbonamento e l’indicazione dettagliata del prezzo complessivo pagato. La comunicazione di conferma sarà inviata dalla Società unicamente all’indirizzo di posta elettronica indicato dall’Utente in fase di registrazione al Sito.</p>\n<p>3.5. L’utente prende atto e riconosce che per accedere agli Abbonamenti è necessario mantenere attivo l’account e prende altresì atto che in caso di cancellazione dell’account, non sarà più possibile usufruire degli Abbonamenti.</p>",
  terms_and_condition_subscription_plans:
    "<h3>Piani di Abbonamento</h3>\n<p>4.1. Sono previsti diversi piani di Abbonamento acquistabili dall’Utente, che consentono la partecipazione agli Eventi Partner, previa il mantenimento dell’abbonamento per la durata prevista dai punti 4.2, 4.3 e 4.4. I piani di Abbonamento acquistabili dall’Utente sono i seguenti:</p>\n<ul>\n<li>4.2. All You Can Dance – Italy A: consente di partecipare agli eventi Neverland Internazional Congress, Roma Symposium, KizMi e MAK. Il Costo Mensile dell’Abbonamento è pari a 25€ IVA esclusa. La durata minima dell’abbonamento è di 1 anno.</li>\n<li>4.3. All You Can Dance – Italy B: consente di partecipare agli eventi Neverland Internazional Congress, Roma Symposium, KizMi e MAK, Levante Kizomba Festival e LoveMi. Il Costo Mensile dell’Abbonamento è pari a 35€ IVA esclusa. La durata minima dell’abbonamento è di 1 anno.</li>\n<li>4.4. Special Combo – LoveMi: consente di partecipare al LoveMi. Incluso nell’abbonamento c’è anche un posto in camera doppia per due notti, colazione e tassa di soggiorno inclusa, presso il FastHotel. Il Costo Mensile dell’Abbonamento è pari a 70€ IVA esclusa. La durata minima dell’abbonamento è di 3 mesi.</li>\n</ul>",
  terms_and_condition_subscription_duration:
    '<h3>Durata e rinnovo dell’Abbonamento</h3>\n<p>5.1. Le presenti Condizioni Generali hanno efficacia a tempo indeterminato, fermo restando che qualsiasi parte potrà recedere in qualsiasi momento dalle stesse, dandone comunicazione per iscritto all’altra. Resta, tuttavia, inteso che, in caso di esercizio del diritto di recesso da parte di ciascuna parte, il recesso non avrà effetto relativamente agli Abbonamenti già acquistati prima della data di efficacia del recesso, che continueranno ad essere regolati dalle relative Condizioni Generali applicabili fino alla completa esecuzione delle obbligazioni delle parti relative a tali Abbonamenti.</p>\n<p>5.2. L’Utente riconosce ed accetta che la Società non garantisce in alcun modo che sarà sempre possibile sottoscrivere Abbonamenti sul Sito. La Società si riserva, inoltre, il diritto in qualsiasi momento di sospendere o interrompere definitivamente l’accesso al Sito o agli Eventi Partner, anche sospendendo o cancellando definitivamente l’account dell’Utente, senza alcun obbligo di preavviso, restando impregiudicati i diritti già acquisiti dell’Utente con riferimento agli Abbonamenti già sottoscritti. Infine, la Società si riserva di cancellare in tutto o in parte l’accesso agli Abbonamenti, ove ravvisi che la disponibilità o la continuazione della disponibilità degli Abbonamenti non sia più possibile in relazione a cause di forza maggiore o altro evento imprevedibile.</p>\n<p>5.3. L’Utente potrà decidere, in qualsiasi momento, di cessare la sottoscrizione dell’Abbonamento. L’efficacia della cessazione dell’Abbonamento decorrerà dal primo giorno successivo alla data in cui l’Utente comunicherà la cessazione all’indirizzo email della Società all’indirizzo: <a href="mailto:support@neverland.com">support@neverland.com</a></p>',
  terms_and_condition_assistance:
    "<h3>Assistenza</h3>\n<p>6.1. La Società garantisce supporto all’Utente per qualsiasi difficoltà incontrata nell’utilizzo del servizio. Il servizio di assistenza è attivo 24 ore su 24, 7 giorni su 7, attraverso il servizio di e-mail, chiamato supporto@neverland.com.</p>",
  terms_and_condition_responsibility:
    "<h3>Responsabilità</h3>\n<p>7.1. La Società non è responsabile per danni derivanti da eventi imprevedibili, indipendenti dalla sua volontà e dovuti a cause di forza maggiore o eventi straordinari.</p>",
  terms_and_condition_applicable_law:
    "<h3>Legge applicabile</h3>\n<p>8.1. Le presenti Condizioni Generali sono disciplinate dalla legge italiana.</p>",

  // Contact Me Page
  contact_page_title: "Contattami",
  contact_me_title: "Still <span class='color-header'>Not Sure?</span>",
  contact_me_subtitle:
    "Do you have any questions? Feel free to write it in this form. We will reply to you as soon as possible.",
  contact_me_form_name: "Name",
  contact_me_form_email: "Email address",
  contact_me_form_phone: "Phone Number",
  contact_me_form_description: "Comments",
  contact_me_form_send: "Invia",

  // Contact-Me.js
  contact_me_sent_email_title: "Email inviata",
  contact_me_sent_email_text: "Grazie per averci contattato",

  // Read QRCode
  read_qr_title: "Scansiona <span class='color-header'>QRCode</span>",
  read_qr_button: "Scansiona",

  // Read QRCode.js
  read_qr_error_title: "Errore",
  read_qr_error_data_not_valid: "Il QR Code contiene dati non validi.",
  read_qr_error_data: "Impossibile leggere il QR Code.",
  read_qr_error_camera: "Impossibile accedere alla fotocamera.",
  read_qr_error_focus: "Messa a fuoco in corso...",
  read_qr_access_allowed: "Accesso Consentito.",
  read_qr_access_denied: "Accesso Vietato.",
};

// Usa le traduzioni fornite da WordPress (via wp_localize_script) o il fallback
var translation;

let translations =
  typeof translation !== "undefined" ? translation : defaultTranslations;

document.addEventListener("DOMContentLoaded", function () {
  translations =
    typeof translation !== "undefined" ? translation : defaultTranslations;

  // Header And Footer
  translate("terms_and_condition_text", translations.terms_and_condition_text);
  translate("scan_text", translations.scan_text);
  translate("contact_text", translations.contact_text);
  translate("home_text", translations.home_text);
  translate("follow_text", translations.follow_text);
  translate("phone_text", translations.phone_text);
  translate("contact_text", translations.contact_text);

  // Index
  translate("flipButtonBack", translations.back_button);
  translate("submitEmailBtn", translations.access_button);
  translate("flipButton", translations.access_button);
  translate("flipButtonDesktop", translations.access_button);
  translate("login_text", translations.login_text);
  translate("welcome_text", translations.welcome_text);
  translate("email_placeholder", translations.email_placeholder);
  translate("emailHelp", translations.email_help);
  translate("submitOrganizzationBtn", translations.organizer_button);
  translate("get_pass", translations.get_pass);
  translate("back_button", translations.back_button);

  // Terms and condition
  translate(
    "terms_and_condition_title",
    translations.terms_and_condition_title
  );
  translate(
    "terms_and_condition_intro",
    translations.terms_and_condition_intro
  );
  translate(
    "terms_and_condition_scope",
    translations.terms_and_condition_scope
  );
  translate(
    "terms_and_condition_changes",
    translations.terms_and_condition_changes
  );
  translate(
    "terms_and_condition_subscription",
    translations.terms_and_condition_subscription
  );
  translate(
    "terms_and_condition_subscription_plans",
    translations.terms_and_condition_subscription_plans
  );
  translate(
    "terms_and_condition_subscription_duration",
    translations.terms_and_condition_subscription_duration
  );
  translate(
    "terms_and_condition_assistance",
    translations.terms_and_condition_assistance
  );
  translate(
    "terms_and_condition_responsibility",
    translations.terms_and_condition_responsibility
  );
  translate(
    "terms_and_condition_applicable_law",
    translations.terms_and_condition_applicable_law
  );

  // Contact Me Page
  translate("contact_page_title", translations.contact_page_title);
  translate("contact_me_title", translations.contact_me_title);
  translate("contact_me_subtitle", translations.contact_me_subtitle);
  translate("contact_me_form_name", translations.contact_me_form_name);
  translate("contact_me_form_email", translations.contact_me_form_email);
  translate("contact_me_form_phone", translations.contact_me_form_phone);
  translate(
    "contact_me_form_description",
    translations.contact_me_form_description
  );
  translate("submitContactEmailBtn", translations.contact_me_form_send);

  // Read QRCode
  translate("read_qr_title", translations.read_qr_title);
  translate("startScan", translations.read_qr_button);
});

function translate(id, text) {
  const element = document.getElementById(id);
  if (element) {
    element.innerHTML = text; // Applica la traduzione
  } else {
    const classElement = document.querySelector("." + id);
    if (classElement) classElement.innerHTML = text;
  }
}
